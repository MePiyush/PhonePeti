Instructions for Running the applications:

Part 1 - Asterisk
1. Install Asterisk
2. Replace the existing extentions.conf file at '/etc/asterisk/extensions.conf' with the given file
3. Create following folders
	i. /usr/local/phonepeti/media/prompts 
	ii. /usr/local/phonepeti/media/recordings
	iii. /usr/local/phonepeti/logs
4. Change recursively the permissions of the folder phonepeti/media and phonepeti/logs to a+w 
5. Install softphone like Twinkle


Part - 2 MySql
1. Intall mysql-server
2. Create Database PhonePeti


Part 3 - Django
1. Install libmysqlclient-dev, python2.6-dev, MySQL-Python 
2. Install Django
3. Copy VoiceApplications/* to /usr/local/phonepeti
4. Configure the settings.py file (add the database information, location of Templates folder, media path, Time Zone)
5. Run python manage.py syncdb

Part - 4 
1. Create entry in 'PhonePeti_application' table in the database: INSERT INTO PhonePeti_application (name, description) VALUES ('Feedback', 'Application for taking Feedback'); 
2. Create entry in 'PhonePeti_appinstance' table in the database: INSERT INTO PhonePeti_appinstance (app_id, startTime, endTime, options) VALUES ('1', NULL, NULL, 'Feedback Application');


Part - 5 
1. Run Django server: python manage.py runserver
2. Test the application


Part - 6
1. Install apache webserver 
2. Install mod_wsgi for apache
3. Configure httpd.conf with the following entries
-------------------------------------------------------------------
WSGIScriptAlias / /usr/local/phonepeti/VoiceApplications/wsgi.py
WSGIPythonPath /usr/local/phonepeti

<Directory /usr/local/phonepeti/VoiceApplications>
<Files wsgi.py>
Order deny,allow
Allow from all
</Files>
</Directory>
-------------------------------------------------------------------



More detailed instructions below:
----------------------------------------------------------------
- Install asterisk
sudo cp extensions.conf /etc/asterisk/extensions.conf
sudo mkdir -p /usr/local/phonepeti/media/prompts 
sudo mkdir -p /usr/local/phonepeti/media/recordings
sudo mkdir -p /usr/local/phonepeti/logs
sudo chmod -R a+w /usr/local/phonepeti/logs 
sudo chmor -R a+w /usr/local/phonepeti/media

sudo apt-get install twinkle mysql-server
mysql -uroot -pjunoon -e "create database PhonePeti"

sudo apt-get install libmysqlclient-dev python2.6-dev
sudo apt-get install python-setuptools
- download/extract mysql-python
cd MySQL-python
python setup.py build
python setup.py install

- download/extract Django 1.4
cd Django-1.4 and follow instructions in there.

- change settings.py to update database username and password
- change settings.py to update template path
- change settings.py to update media path
- change database entries in Feedback.agi
- Need to create app, appinstance entries in the database

sudo apt-get install apache2
sudo apt-get install libapache2-mod-wsgi
- Configure /etc/apache2/httpd.conf with following entries
--------------------------
WSGIScriptAlias / /usr/local/phonepeti/VoiceApplications/wsgi.py
WSGIPythonPath /usr/local/phonepeti

<Directory /usr/local/phonepeti/VoiceApplications>
<Files wsgi.py>
Order deny,allow
Allow from all
</Files>
</Directory>
-------------------------

